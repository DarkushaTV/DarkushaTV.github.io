<!DOCTYPE html>
<html>
<head>
    <title>Voice Assistant</title>
</head>
<body>
    <h1>Voice Assistant</h1>
    <button id="start-listening">Start Listening</button>
    <div id="response"></div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/speech-recognition/3.0.0/speech-recognition.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/openai/dist/openai.min.js"></script>
    
    <script>
        const openai = require('openai');

        openai.config({
            apiKey: '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',
        });

        const recognition = new webkitSpeechRecognition();
        recognition.lang = 'ru-RU';

        recognition.onstart = function() {
            console.log('Listening...');
        };

        recognition.onresult = function(event) {
            const query = event.results[0][0].transcript;

            if (query.includes('открой браузер')) {
                // Code to open a browser
            } else if (query.includes('открой ютуб') || query.includes('открой youtube')) {
                // Code to open YouTube
            } else {
                openai.Completion.create({
                    model: 'gpt-3.5-turbo',
                    messages: [
                        { role: 'system', content: 'You are a helpful assistant.' },
                        { role: 'user', content: query + 'отвечай коротко' },
                    ],
                }).then((response) => {
                    const answer = response.choices[0].message.content;
                    speak(answer);
                    document.getElementById('response').textContent = answer;
                });
            }
        };

        document.getElementById('start-listening').addEventListener('click', function() {
            recognition.start();
        });

        function speak(text) {
            // Code to speak the response
        }
    </script>
</body>
</html>
